<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Whispir API Reference</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["go","xml"]);
        });
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="go">json</a>
              <a href="#" data-language-name="xml">xml</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='http://developer.whispir.com'>Sign Up for a Developer Key</a></li>
            <li><a href='http://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <h1 id='whispir-api'>Whispir API</h1>
<blockquote>
<p>Whispir&rsquo;s API requires only 3 parameters within JSON or XML to send an SMS message</p>
</blockquote>
<pre class="highlight go"><span class="p">{</span><span class="x">
   </span><span class="s">"to"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"61400000000"</span><span class="p">,</span><span class="x">
   </span><span class="s">"subject"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"Test SMS Message"</span><span class="p">,</span><span class="x">
   </span><span class="s">"body"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"This is the body of my test SMS message"</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></pre>
<pre class="highlight xml"><span class="cp">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;</span>
<span class="nt">&lt;ns2:message</span> <span class="na">xmlns:ns2=</span><span class="s">"http://schemas.api.whispir.com"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;to&gt;</span>61400000000<span class="nt">&lt;/to&gt;</span>
    <span class="nt">&lt;subject&gt;</span>Test SMS Message<span class="nt">&lt;/subject&gt;</span>    
    <span class="nt">&lt;body&gt;</span>This is the body of my test SMS message<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/ns2:message&gt;</span> 
</pre>

<blockquote>
<p>Using curl, this can be sent using the following command</p>
</blockquote>
<pre class="highlight shell"><span class="c"># Authorization and apikey are provided in the registration processes</span>

curl -H <span class="s2">"Authorization: Basic &lt;YOUR AUTHORIZATION HEADER&gt;"</span> 
     -H <span class="s2">"Content-Type: application/vnd.whispir.message-v1+json"</span> 
     -H <span class="s2">"Accept: application/vnd.whispir.message-v1+json"</span> 
     -d <span class="s2">"</span><span class="nv">$data</span><span class="s2">"</span> 
     https://api.whispir.com/messages?apikey<span class="o">=</span>&lt;YOUR API KEY&gt;

</pre>

<p>The Whispir API has been designed to provide application developers the ability to embed the powerful multichannel messaging capabilities the Whispir Platform provides, directly into any application with access to the web.</p>

<p><strong>Multichannel Messaging API</strong></p>

<p>Whispir&rsquo;s API gives developers the ability to:</p>

<ul>
<li>Create, send and retrieve multi-channel messages over 8 different channels</li>
<li>Invoke scenario based communications for quick, effective and targeted communications</li>
<li>Publish messages to internal or external web pages, RSS feeds and social networks</li>
<li>Asynchronously receive all responses to a given message and perform analysis on the data</li>
</ul>

<p><strong>Contact &amp; Recipient Management API</strong></p>

<p>The Whispir API provides developers with the ability to manage the recipients of their messages:</p>

<ul>
<li>Store contact information in a cloud based highly available and accessible environment</li>
<li>Use standards based methods to create, update, and delete contact information</li>
<li>Build forms to allow contacts to self-register and manage their account, with auto-generated email notifications</li>
<li>Create, update and delete distribution lists that can be accessed for messaging at a later date</li>
</ul>

          <h1 id='accessing-the-api'>Accessing the API</h1>
<p>To get started using the Whispir API, you&rsquo;ll need a few things:</p>

<ol>
<li>Register with Whispir to receive a Whispir Username and Password - (<a href="https://app.whispir.it/pub/whispirSelfRegistration.pub">Free Trial</a>)</li>
<li>Get an API Key - (<a href="https://developer.whispir.com/member/register">Developer Account Here</a>)</li>
<li>Check your connectivity to the API</li>
<li>Try it out! Send an SMS Message</li>
</ol>
<h2 id='step-1---register-with-whispir'>Step 1 - Register with Whispir</h2>
<p>Whispir&rsquo;s API is available for all existing Whispir customers to use.  If you&rsquo;re already a Whispir customer, great! Your existing username and password will work straight away.  You don&rsquo;t even need to contact us.</p>

<p>If you&rsquo;re a new customer and are interested in finding out more about using the API, please send an email with your details to <a href="mailto:sales@whispir.com">sales@whispir.com</a>, and one of our sales reps will get back to with all the information you need.</p>

<p>Once you&rsquo;ve got your Whispir Username and Password handy, you&rsquo;re ready to move to Step 2.</p>
<h2 id='step-2---get-an-api-key'>Step 2 - Get an API Key</h2>
<p>If you haven&rsquo;t done so already, click <a href="http://developer.whispir.com/member/register">Register</a>, fill in the form you&rsquo;ll receive an email with your API key. </p>

<p>Please note that your API key will need to be activated by one of our support team members, it should be done within a few hours so please be patient.  If you&rsquo;ve already registered but haven&rsquo;t heard back after 24 hours, please contact us at <a href="mailto:apisupport@whispir.com">apisupport@whispir.com</a>.</p>

<p>Once you&rsquo;ve got your API key, you&rsquo;re ready to move to Step 3.</p>
<h2 id='step-3---check-your-connectivity-to-the-api'>Step 3 - Check your connectivity to the API</h2>
<blockquote>
<p>Using the information on the left, you can execute the following curl statment: </p>
</blockquote>
<pre class="highlight shell">curl -H <span class="s2">"Authorization: &lt;Your Authorization Header&gt;"</span> https://api.whispir.com?apikey<span class="o">=</span>&lt;Your API Key&gt;

<span class="c"># e.g. with sample values</span>

curl -H <span class="s2">"Authorization: Basic am9obi5zbWl0aDpteXBhc3N3b3Jk"</span> https://api.whispir.com?apikey<span class="o">=</span>89asdfohasd89023rsd 
</pre>

<blockquote>
<p>If all is correct, the following response should be expected (Whispir&rsquo;s API defaults to an XML response)</p>
</blockquote>
<pre class="highlight shell">&lt;?xml <span class="nv">version</span><span class="o">=</span><span class="s2">"1.0"</span> <span class="nv">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span> <span class="nv">standalone</span><span class="o">=</span><span class="s2">"yes"</span>?&gt;
&lt;ns2:company <span class="nv">xmlns</span><span class="o">=</span><span class="s2">"http://schemas.api.whispir.com/dap"</span> 
             xmlns:ns2<span class="o">=</span><span class="s2">"http://schemas.api.whispir.com"</span>&gt;
    &lt;link <span class="nv">method</span><span class="o">=</span><span class="s2">"GET"</span> 
          <span class="nv">rel</span><span class="o">=</span><span class="s2">"retrieveWorkspaces"</span> 
          <span class="nv">uri</span><span class="o">=</span><span class="s2">"https://api.whispir.com/workspaces?apikey=89asdfohasd89023rsd"</span>/&gt;
    ...
&lt;/ns2:company&gt;
</pre>

<blockquote>
<p>This may look a bit scary at first, but it will all make sense shortly. All you need to know now is you&rsquo;ve got access to the API!</p>
</blockquote>

<p>The first thing you&rsquo;ll need to do is generate the <strong>Authorization Header</strong> for your API requests. You&rsquo;ll need to use this on every request that you submit to the Whispir API.</p>

<p>Whispir is currently using BASIC HTTP Authentication for all requests.</p>

<p>You can generate this header in most programming lanugages very easily, however for ease of use you can generate it here by filling in the form below. </p>

<p><strong>Note:</strong> Your Whispir authentication information is not submitted or stored anywhere, it is only used as part of the algorithm to automatically generate the header. </p>

<p><strong>Whispir Username:</strong>&nbsp;<input id="username" name="username" style="width: 60%; margin-bottom: 3px;" type="text"> <br/>
<strong>Whispir Password:</strong>&nbsp;<input id="password" name="password" style="width: 60%" type="password"></p>

<p><button onclick="doEncode()" name="encode">Generate your Authorization Header</button></p>

<p><strong>Authorization Header:</strong>&nbsp;<input id="result" name="result" style="width: 60%" type="text"> <br/></p>

<p>Once you have generated this header, you can use it in a request to the API.  This will ensure everything is working correctly.  To do this you can use a curl script, or another generic REST client.</p>
<h3 id='using-a-generic-rest-client'>Using a generic REST Client</h3>
<p>If you&rsquo;re unsure about using curl, you can install a REST Client plugin in your browser and test the calls through there.  Whispir recommends using the <a href="https://addons.mozilla.org/en-US/firefox/addon/restclient/">RESTClient plugin for Firefox</a>.</p>

<p>To test your connectivity, you need to enter your Whispir username and password and provide the API URL that you would like to call.</p>

<p>The HTTP call will look more like the following:</p>

<p><code class="prettyprint">GET https://api.whispir.com?apikey=89asdfohasd89023rsdfhio8923</code></p>

<p>With the following header (as a minimum).</p>

<p><code class="prettyprint">Authorization: Basic am9obi5zbWl0aDpteXBhc3N3b3Jk</code></p>
<h3 id='resolving-connectivity-issues'>Resolving connectivity issues</h3>
<p>If you get a different response than <strong>HTTP 200 OK</strong>, perform the following:</p>

<p><strong>HTTP 403 Forbidden, or HTTP 401 Unauthorized</strong></p>

<ul>
<li>Your Authorization header may not be quite right, verify your username and password browsing to <a href="http://www.whispir.com">Whispir</a> and clicking &lsquo;Sign In&rsquo;,</li>
<li>Try and re-generate the Base64 encoded username and password using the form above</li>
</ul>

<p><strong>Other HTTP errors or no connectivity at all</strong></p>

<ul>
<li>If you&rsquo;re still having issues, contact us at <a href="mailto:apisupport@whispir.com">apisupport@whispir.com</a></li>
</ul>
<h2 id='step-4---send-an-sms-message'>Step 4 - Send an SMS Message</h2>
<blockquote>
<p>Send your first message using curl</p>
</blockquote>
<pre class="highlight shell">curl -H <span class="s2">"Authorization: Basic am9obi5zbWl0aDpteXBhc3N3b3Jk"</span> 
     -H <span class="s2">"Content-Type: application/vnd.whispir.message-v1+json"</span> 
     -H <span class="s2">"Accept: application/vnd.whispir.message-v1+json"</span> 
     -d <span class="s1">'{ "to": "&lt;DESTINATION PHONE NUMBER&gt;",
     "subject": "This is the first line of my SMS",
     "body": "This is the content of my SMS"
   }'</span> 
   https://api.whispir.com/messages?apikey<span class="o">=</span>89asdfohasd89023rsdfhio8923
</pre>

<blockquote>
<p>Once you submit this, Whispir will send you back an HTTP 202 Accepted stating that your request has been accepted for processing.  Within a few seconds your phone should be buzzing away.</p>
</blockquote>
<h3 id='messages-endpoint'>Messages Endpoint</h3>
<p>By now you should be able to connect to the API and can issue requests and receive responses. Based on this, you can now send your first SMS message using the API.</p>

<p>This is very similar to the previous request, but instead of using a <strong>HTTP GET</strong> to retrieve information, this time you&rsquo;re going to use a <strong>HTTP POST</strong> to push information to Whispir. </p>

<p>As you&rsquo;re sending a message, you need to tell Whispir who to send it to, and what the type of content it is.</p>

<p>You&rsquo;re going to use the URL <code class="prettyprint">https://api.whispir.com/messages</code> as the API endpoint. </p>
<h3 id='content-type'>Content Type</h3>
<blockquote>
<p>Samples in XML and JSON</p>
</blockquote>
<pre class="highlight go"><span class="n">POST</span><span class="x"> </span><span class="n">https</span><span class="o">:</span><span class="c">//api.whispir.com/messages?apikey=89asdfohasd89023rsdfhio8923</span><span class="x">
</span><span class="n">Authorization</span><span class="o">:</span><span class="x"> </span><span class="n">Basic</span><span class="x"> </span><span class="n">am9obi5zbWl0aDpteXBhc3N3b3Jk</span><span class="x">
</span><span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="o">:</span><span class="x"> </span><span class="n">application</span><span class="o">/</span><span class="n">vnd</span><span class="o">.</span><span class="n">whispir</span><span class="o">.</span><span class="n">message</span><span class="o">-</span><span class="n">v1</span><span class="o">+</span><span class="n">json</span><span class="x">
</span><span class="n">Accept</span><span class="o">:</span><span class="x"> </span><span class="n">application</span><span class="o">/</span><span class="n">vnd</span><span class="o">.</span><span class="n">whispir</span><span class="o">.</span><span class="n">message</span><span class="o">-</span><span class="n">v1</span><span class="o">+</span><span class="n">json</span><span class="x">

</span><span class="p">{</span><span class="x">
    </span><span class="s">"to"</span><span class="o">:</span><span class="x"> </span><span class="s">"&lt;DESTINATION PHONE NUMBER&gt;"</span><span class="p">,</span><span class="x"> 
    </span><span class="s">"subject"</span><span class="o">:</span><span class="x"> </span><span class="s">"This is the first line of my SMS"</span><span class="p">,</span><span class="x">
    </span><span class="s">"body"</span><span class="o">:</span><span class="x"> </span><span class="s">"This is the content of my SMS"</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></pre>
<pre class="highlight xml">POST https://api.whispir.com/messages?apikey=89asdfohasd89023rsdfhio8923
Authorization: Basic am9obi5zbWl0aDpteXBhc3N3b3Jk
Content-Type: application/vnd.whispir.message-v1+xml
Accept: application/vnd.whispir.message-v1+xml

<span class="cp">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;</span>
<span class="nt">&lt;ns2:message</span> <span class="na">xmlns:ns2=</span><span class="s">"http://schemas.api.whispir.com"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;to&gt;&lt;DESTINATION</span> <span class="err">PHONE</span> <span class="err">NUMBER</span><span class="nt">&gt;&lt;/to&gt;</span>
    <span class="nt">&lt;subject&gt;</span>This is the first line of my SMS<span class="nt">&lt;/subject&gt;</span>    
    <span class="nt">&lt;body&gt;</span>This is the content of my SMS<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/ns2:message&gt;</span> 

</pre>

<p>The next thing you need to do is tell Whispir what information you&rsquo;re sending.  You can just blindly send some XML or JSON content, but life is much easier if Whispir knows exatly what it is you are sending.</p>

<p>You&rsquo;re going to tell Whispir what you are sending by using the <strong>Content-Type</strong> HTTP header.  Your Content-Type header is going to be (either JSON or XML):</p>

<ul>
<li>application/vnd.whispir.message-v1+json</li>
<li>application/vnd.whispir.message-v1+xml</li>
</ul>

<p>This tells Whispir that you are sending content that conforms to Version 1 of the message schema.  As Whispir adds more features to each schema, our version numbers will increase, this is described in much more detail later on in the documentation.</p>
<h3 id='sending-messages-using-json-and-xml'>Sending messages using JSON and XML</h3>
<p>Once you have successfully sent your SMS message using curl, you can move on to using your application to generate XML or JSON formats for processing.</p>

<p>Be sure to include the correct headers for the desired content type:</p>

<ul>
<li>XML - <code class="prettyprint">application/vnd.whispir.message-v1+xml</code></li>
<li>JSON - <code class="prettyprint">application/vnd.whispir.message-v1+json</code></li>
</ul>

<p>For more information on Messages and all the other Whispir resources please continue through the documentation, or browse straight to Messages resource documentation for more information.</p>

          <h1 id='rate-limiting'>Rate Limiting</h1>
<blockquote>
<p>In the event that Whispir&rsquo;s rate limits are breached, the following error messages will be returned from the Whispir API:</p>
</blockquote>
<pre class="highlight shell"><span class="c"># Over Queries Per Second Limit</span>

GET /messages?apikey<span class="o">=</span>abc38bc83bcd3ucbud83

HTTP 403 Forbidden
X-Mashery-Error-Code: ERR_403_DEVELOPER_OVER_QPS
X-Mashery-Error-Detail: Account Over Queries Per Second Limit

<span class="c"># Over Queries Per Day Limit</span>

GET /messages?apikey<span class="o">=</span>abc38bc83bcd3ucbud83

HTTP 403 Forbidden
X-Mashery-Error-Code: ERR_403_DEVELOPER_OVER_QPD
X-Mashery-Error-Detail: Account Over Queries Per Day Limit
</pre>

<p>Whispir&rsquo;s API usage is limited on a per apikey basis using <strong>per second</strong> limit and <strong>per day</strong> limits.</p>

<p>Depending on your Whispir License, you will obtain higher per second and per day rates:</p>

<table><thead>
<tr>
<th>Whispir Edition</th>
<th>Calls Per Second (CPS)</th>
<th>Calls Per Day (CPD)</th>
</tr>
</thead><tbody>
<tr>
<td>API Only Edition</td>
<td>7 calls per second</td>
<td>5000 calls per day</td>
</tr>
<tr>
<td>Business Edition</td>
<td>1 call per second</td>
<td>1000 calls per day</td>
</tr>
<tr>
<td>Essential Edition</td>
<td>1 call per second</td>
<td>1000 calls per day</td>
</tr>
<tr>
<td>Professional Edition</td>
<td>3 call per second</td>
<td>3000 calls per day</td>
</tr>
<tr>
<td>Enterprise Edition</td>
<td>7 call per second</td>
<td>5000 calls per day</td>
</tr>
</tbody></table>

<p>If further calls per second or per day are required for your application, please contact your Whispir Sales Representative, or <a href="mailto:sales@whispir.com">sales@whispir.com</a>.</p>

          <h1 id='messages'>Messages</h1>
<blockquote>
<p>Sample to send an SMS, Email, Voice call, and Web Publishing in one request</p>
</blockquote>
<pre class="highlight xml">HTTP 1.1 POST https://api.whispir.com/messages?apikey=<span class="nt">&lt;yourkey&gt;</span>
Authorization: Basic am9obi5zbWl0aDpteXBhc3N3b3Jk
Content-Type: application/vnd.whispir.message-v1+xml

<span class="cp">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;</span>
<span class="nt">&lt;ns2:message</span> <span class="na">xmlns:ns2=</span><span class="s">"http://schemas.api.whispir.com"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;to&gt;</span>61400000000<span class="nt">&lt;/to&gt;</span>
    <span class="nt">&lt;subject&gt;</span>Test Message<span class="nt">&lt;/subject&gt;</span>    
    <span class="nt">&lt;body&gt;</span>This is the body of my test SMS message<span class="nt">&lt;/body&gt;</span>
    <span class="nt">&lt;email&gt;</span>
        <span class="nt">&lt;body&gt;</span>This is the body of my test Email message<span class="nt">&lt;/body&gt;</span>
        <span class="nt">&lt;footer&gt;</span>This is footer of test email<span class="nt">&lt;/footer&gt;</span>
        <span class="nt">&lt;type&gt;</span>text/plain<span class="nt">&lt;/type&gt;</span>
    <span class="nt">&lt;/email&gt;</span>
    <span class="nt">&lt;voice&gt;</span>
        <span class="nt">&lt;header&gt;</span>test header<span class="nt">&lt;/header&gt;</span>        
        <span class="nt">&lt;body&gt;</span>This is test voice body<span class="nt">&lt;/body&gt;</span>
        <span class="nt">&lt;footer&gt;</span>test footer<span class="nt">&lt;/footer&gt;</span>
        <span class="nt">&lt;type&gt;</span>
            ConfCall:,
            ConfAccountNo:,
            ConfPinNo:,
            ConfModPinNo:,
            Pin:
        <span class="nt">&lt;/type&gt;</span>
    <span class="nt">&lt;/voice&gt;</span>
    <span class="nt">&lt;web&gt;</span> 
        <span class="nt">&lt;body&gt;</span>This is web body of my test message<span class="nt">&lt;/body&gt;</span> 
        <span class="nt">&lt;type&gt;</span>text/plain<span class="nt">&lt;/type&gt;</span> 
    <span class="nt">&lt;/web&gt;</span> 
    <span class="nt">&lt;social&gt;</span>
        <span class="nt">&lt;social</span> <span class="na">id=</span><span class="s">"social"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;body&gt;</span>Twitter Content.<span class="nt">&lt;/body&gt;</span>
        <span class="nt">&lt;/social&gt;</span>
        <span class="nt">&lt;social</span> <span class="na">id=</span><span class="s">"social_long"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;body&gt;</span>Facebook Content.<span class="nt">&lt;/body&gt;</span>
            <span class="nt">&lt;type&gt;</span>text/plain<span class="nt">&lt;/type&gt;</span>
        <span class="nt">&lt;/social&gt;</span>
    <span class="nt">&lt;/social&gt;</span>
    <span class="nt">&lt;type&gt;</span>defaultNoReply<span class="nt">&lt;/type&gt;</span>
<span class="nt">&lt;/ns2:message&gt;</span>
</pre>
<pre class="highlight go"><span class="n">HTTP</span><span class="x"> </span><span class="m">1.1</span><span class="x"> </span><span class="n">POST</span><span class="x"> </span><span class="n">https</span><span class="o">:</span><span class="c">//api.whispir.com/messages?apikey=&lt;yourkey&gt;</span><span class="x">
</span><span class="n">Authorization</span><span class="o">:</span><span class="x"> </span><span class="n">Basic</span><span class="x"> </span><span class="n">am9obi5zbWl0aDpteXBhc3N3b3Jk</span><span class="x">
</span><span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="o">:</span><span class="x"> </span><span class="n">application</span><span class="o">/</span><span class="n">vnd</span><span class="o">.</span><span class="n">whispir</span><span class="o">.</span><span class="n">message</span><span class="o">-</span><span class="n">v1</span><span class="o">+</span><span class="n">json</span><span class="x">

</span><span class="p">{</span><span class="x">
    </span><span class="s">"to"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"61400000000"</span><span class="p">,</span><span class="x">
    </span><span class="s">"subject"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"Test Message"</span><span class="p">,</span><span class="x">
    </span><span class="s">"body"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"This is the body of my test SMS message"</span><span class="p">,</span><span class="x">
    </span><span class="s">"email"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="s">"body"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"This is the body of my test Email message"</span><span class="p">,</span><span class="x">
        </span><span class="s">"footer"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"This is the footer of my message 
                    (generally where a signature would go)"</span><span class="p">,</span><span class="x">
        </span><span class="s">"type"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"text/plain"</span><span class="x">
    </span><span class="p">},</span><span class="x">
    </span><span class="s">"voice"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="s">"header"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"This is the introduction, 
                    read out prior to any key press"</span><span class="p">,</span><span class="x">
        </span><span class="s">"body"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"This is the body of the voice call, 
                  read out after the key press"</span><span class="p">,</span><span class="x">
        </span><span class="s">"type"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"ConfCall:,
                  ConfAccountNo:,
                  ConfPinNo:,
                  ConfModPinNo:,
                  Pin:"</span><span class="x">
    </span><span class="p">},</span><span class="x">
    </span><span class="s">"web"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="s">"body"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"This is the content of my web publishing 
                 or Rich Push Message"</span><span class="p">,</span><span class="x">
        </span><span class="s">"type"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"text/plain"</span><span class="x">
    </span><span class="p">},</span><span class="x">
    </span><span class="s">"social"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="s">"social"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="p">{</span><span class="x">
            </span><span class="s">"id"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"social"</span><span class="p">,</span><span class="x">
            </span><span class="s">"body"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"Twitter Content."</span><span class="x">
        </span><span class="p">},</span><span class="x">
        </span><span class="s">"social"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="p">{</span><span class="x">
            </span><span class="s">"id"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"social_long"</span><span class="p">,</span><span class="x">
            </span><span class="s">"body"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"Facebook Content."</span><span class="p">,</span><span class="x">
            </span><span class="s">"type"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"text/plain"</span><span class="x">
        </span><span class="p">}</span><span class="x">
    </span><span class="p">},</span><span class="x">
    </span><span class="s">"type"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"defaultNoReply"</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></pre>

<p>Messages are the core of what the Whispir API offers as a service to customers.</p>

<p>Whispir has the ability to send messages across 7 different channels in a single API request:</p>

<p><strong>SMS</strong> - up to 1600 characters per message, premium routes, delivery receipts<br/>
<strong>Email</strong> - free email messaging with HTML and Plain Text support<br/>
<strong>Voice</strong> - high quality outbound voice calls delivered to mobiles and landlines within seconds<br/>
<strong>Rich Messages</strong> - personalised, targeted rich messaging to drive conversations<br/>
<strong>Twitter</strong> - support for instant publishing to multiple twitter accounts<br/>
<strong>Facebook</strong> - simplify the process of publishing to multiple facebook accounts instantaneously<br/>
<strong>RSS</strong> - easily generate RSS feeds for consumption by other services</p>

<p>The <strong>messages</strong> endpoint allows a user to perform the following tasks:</p>

<ol>
<li>Create and Send a new message</li>
<li>Retrieve a list of previously sent messages</li>
</ol>

<p>These are described in more detail below:</p>

<p>As message resources can exist in the default (Company) workspace or other workspace, messages have two access URLs:</p>

<p><code class="prettyprint">https://api.whispir.com/messages</code> - for Company Workspace messages 
<code class="prettyprint">https://api.whispir.com/workspaces/:id/messages</code> - for other Workspace messages</p>

<p>If your application does not require separate workspaces, you can simply send all messages from the default Company workspace.</p>

<table>
    <thead>
        <tr>
            <th style="width: 50%" colspan="2">High-Level Request Elements</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td style="text-align: right; font-weight: bold;">to:</td>
            <td><strong>String</strong><br/>
                Specifies the recipients of the message e.g.
                <ul>
                    <li>Mobile Phone: 61423456789</li>
                    <li>Email Address: john.smith@test.com.au</li>
                    <li>Landline: 61386000000</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td style="text-align: right; font-weight: bold;">subject:</td>
            <td><strong>String</strong><br/>
                Specifies the first line of the SMS message or Voice call, and the subject of the Email message.
            </td>
        </tr>
        <tr>
            <td style="text-align: right; font-weight: bold;">body:</td>
            <td><strong>String</strong><br/>
                Specifies the content of the SMS message.
            </td>
        </tr>
        <tr>
            <td style="text-align: right; font-weight: bold;">email:</td>
            <td><strong>Object</strong><br/>
                Email object described below. Used for sending email messages.
            </td>
        </tr>
        <tr>
            <td style="text-align: right; font-weight: bold;">voice:</td>
            <td><strong>Object</strong><br/>
                Voice object described below. Used for sending voice calls to mobile phones and landlines.
            </td>
        </tr>
        <tr>
            <td style="text-align: right; font-weight: bold;">web:</td>
            <td><strong>Object</strong><br/>
                Web object described below. Used for web publishing and Rich Messages.
            </td>
        </tr>
        <tr>
            <td style="text-align: right; font-weight: bold;">social:</td>
            <td><strong>Object</strong><br/>
                Social object described below. Used for publishing content to social media (Twitter, Facebook, LinkedIn).
            </td>
        </tr>
        <tr>
            <td style="text-align: right; font-weight: bold;">type:</td>
            <td><strong>String</strong><br/>
                Allows the user to modify the message behaviour for replies and DLRs (delivery receipts) e.g.
                <ul>
                    <li>defaultNoReply - Used to reject any replies to this message.</li>
                    <li>noDlr - Used to specify that DLRs should not be enabled for this message.</li>
                </ul>
            </td>
        </tr>
    </tbody>
</table>
<h2 id='message-variables'>Message Variables</h2>
<blockquote>
<p>Demonstration of sending messages with variables (or tags).</p>
</blockquote>
<pre class="highlight xml">HTTP 1.1 POST https://api.whispir.com/messages?apikey=<span class="nt">&lt;yourkey&gt;</span>
Authorization: Basic am9obi5zbWl0aDpteXBhc3N3b3Jk
Content-Type: application/vnd.whispir.message-v1+xml

<span class="cp">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;</span>
<span class="nt">&lt;ns2:message</span> <span class="na">xmlns:ns2=</span><span class="s">"http://schemas.api.whispir.com"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;to&gt;</span>61400000000<span class="nt">&lt;/to&gt;</span>
    <span class="nt">&lt;subject&gt;</span>Test SMS Message with tags<span class="nt">&lt;/subject&gt;</span>    
    <span class="nt">&lt;body&gt;</span>Hi @@first_name@@.  This is your message.<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/ns2:message&gt;</span> 
</pre>
<pre class="highlight go"><span class="n">HTTP</span><span class="x"> </span><span class="m">1.1</span><span class="x"> </span><span class="n">POST</span><span class="x"> </span><span class="n">http</span><span class="o">:</span><span class="c">//api.whispir.com/messages?apikey=&lt;yourkey&gt;</span><span class="x">
</span><span class="n">Authorization</span><span class="o">:</span><span class="x"> </span><span class="n">Basic</span><span class="x"> </span><span class="n">am9obi5zbWl0aDpteXBhc3N3b3Jk</span><span class="x">
</span><span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="o">:</span><span class="x"> </span><span class="n">application</span><span class="o">/</span><span class="n">vnd</span><span class="o">.</span><span class="n">whispir</span><span class="o">.</span><span class="n">message</span><span class="o">-</span><span class="n">v1</span><span class="o">+</span><span class="n">json</span><span class="x">
</span><span class="n">Accept</span><span class="o">:</span><span class="x"> </span><span class="n">application</span><span class="o">/</span><span class="n">vnd</span><span class="o">.</span><span class="n">whispir</span><span class="o">.</span><span class="n">message</span><span class="o">-</span><span class="n">v1</span><span class="o">+</span><span class="n">json</span><span class="x">

</span><span class="p">{</span><span class="x">
   </span><span class="s">"to"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"61400000000"</span><span class="p">,</span><span class="x">
   </span><span class="s">"subject"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"Test SMS Message with tags"</span><span class="p">,</span><span class="x">
   </span><span class="s">"body"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"Hi @@first_name@@.  This is your message."</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></pre>

<p>When sending messages using the Whispir API, users have the ability to automatically include recipient information as part of the message.  This is facilitated using <strong>tags</strong>.</p>

<p>The following <strong>tags</strong> can be included in any message:</p>

<table>
    <thead>
        <tr>
            <th style="width: 50%" colspan="2">Recipient Message Tags</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td style="text-align: right; font-weight: bold;">@@first_name@@</td>
            <td>Recipients first name.<br/>e.g. John</td>
        </tr>
        <tr>
            <td style="text-align: right; font-weight: bold;">@@last_name@@</td>
            <td>Recipients last name.<br/>e.g. Smith</td>
        </tr>
        <tr>
            <td style="text-align: right; font-weight: bold;">@@recipient_email@@</td>
            <td>Recipients primary email address.<br/>e.g. jsmith@email.com</td>
        </tr>
        <tr>
            <td style="text-align: right; font-weight: bold;">@@recipient_sms@@</td>
            <td>Recipients primary mobile phone number.<br/>e.g. 61412345678</td>
        </tr>
        <tr>
            <td style="text-align: right; font-weight: bold;">@@recipient_voice@@</td>
            <td>Recipients primary phone number for voice calls.<br/>e.g. 61412345678</td>
        </tr>
        <tr>
            <td style="text-align: right; font-weight: bold;">@@pin@@</td>
            <td>Whispir message retrieval service call back PIN (only populated when voice is used).<br/>e.g. 1234</td>
        </tr>
        <tr>
            <td style="text-align: right; font-weight: bold;">@@recipient_role@@</td>
            <td>Resolves to the recipient&rsquo;s &lsquo;Role&rsquo; field.<br/>e.g. Manager</td>
        </tr>
        <tr>
            <td style="text-align: right; font-weight: bold;">@@recipient_additionalrole@@</td>
            <td>Resolves to the recipient&rsquo;s &lsquo;Additional Role&rsquo; field.<br/>e.g. Team Leader</td>
        </tr>
        <tr>
            <td style="text-align: right; font-weight: bold;">@@team_name1@@</td>
            <td>Resolves to the recipient&rsquo;s &lsquo;Team Name&rsquo; field.<br/>e.g. Red Team</td>
        </tr>
        <tr>
            <td style="text-align: right; font-weight: bold;">@@messagelabel@@</td>
            <td>Resolves to the label field of the sent message.<br/>e.g. Incident #1234</td>
        </tr>
        <tr>
            <td style="text-align: right; font-weight: bold;">@@messagecategories@@</td>
            <td>Resolves to the list of categories used in the message, separated with commas.<br/>e.g. Product Update</td
        </tr>
    </tbody>
</table>

<p>Each of these tags will resolve on send of the message to the individual recipient&rsquo;s information.  As Whispir needs to know about this information prior to sending the message, the tags will only work when sending messages to Contacts or Distribution Lists.</p>

<p>For more information about sending messages to Contacts or Distribution Lists, please consult the documentation under Messaging.</p>
<h3 id='using-auto-populated-system-variables-in-messages'>Using auto-populated system variables in messages</h3>
<blockquote>
<p>Demonstration of sending messages with system variables (or tags).</p>
</blockquote>
<pre class="highlight xml">HTTP 1.1 POST https://api.whispir.com/messages?apikey=<span class="nt">&lt;yourkey&gt;</span>
Authorization: Basic am9obi5zbWl0aDpteXBhc3N3b3Jk
Content-Type: application/vnd.whispir.message-v1+xml

<span class="cp">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;</span>
<span class="nt">&lt;ns2:message</span> <span class="na">xmlns:ns2=</span><span class="s">"http://schemas.api.whispir.com"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;to&gt;</span>61400000000<span class="nt">&lt;/to&gt;</span>
    <span class="nt">&lt;subject&gt;</span>Test SMS Message with tags<span class="nt">&lt;/subject&gt;</span>    
    <span class="nt">&lt;body&gt;</span>Hi @@first_name@@.  The date is @@dd@@ / @@mm@@ / @@yyyy@@.<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/ns2:message&gt;</span> 
</pre>
<pre class="highlight go"><span class="n">HTTP</span><span class="x"> </span><span class="m">1.1</span><span class="x"> </span><span class="n">POST</span><span class="x"> </span><span class="n">http</span><span class="o">:</span><span class="c">//api.whispir.com/messages?apikey=&lt;yourkey&gt;</span><span class="x">
</span><span class="n">Authorization</span><span class="o">:</span><span class="x"> </span><span class="n">Basic</span><span class="x"> </span><span class="n">am9obi5zbWl0aDpteXBhc3N3b3Jk</span><span class="x">
</span><span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="o">:</span><span class="x"> </span><span class="n">application</span><span class="o">/</span><span class="n">vnd</span><span class="o">.</span><span class="n">whispir</span><span class="o">.</span><span class="n">message</span><span class="o">-</span><span class="n">v1</span><span class="o">+</span><span class="n">json</span><span class="x">
</span><span class="n">Accept</span><span class="o">:</span><span class="x"> </span><span class="n">application</span><span class="o">/</span><span class="n">vnd</span><span class="o">.</span><span class="n">whispir</span><span class="o">.</span><span class="n">message</span><span class="o">-</span><span class="n">v1</span><span class="o">+</span><span class="n">json</span><span class="x">

</span><span class="p">{</span><span class="x">
   </span><span class="s">"to"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"61400000000"</span><span class="p">,</span><span class="x">
   </span><span class="s">"subject"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"Test SMS Message with tags"</span><span class="p">,</span><span class="x">
   </span><span class="s">"body"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"Hi @@first_name@@.  The date is @@dd@@ / @@mm@@ / @@yyyy@@."</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></pre>

<p>When sending messages using the Whispir API, users have the ability to automatically include system generated information as part of the message.  This is facilitated using <strong>system tags</strong>.</p>

<p>The following <strong>system tags</strong> can be included in any message:</p>

<table>
    <thead>
        <tr>
            <th style="width: 50%" colspan="2">System Tags</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td style="text-align: right; font-weight: bold;">@@dd@@</td>
            <td>Current day with leading zero.<br/>e.g. 25</td>
        </tr>
        <tr>
            <td style="text-align: right; font-weight: bold;">@@mm@@</td>
            <td>Current month with leading zero.<br/>e.g. 10</td>
        </tr>
        <tr>
            <td style="text-align: right; font-weight: bold;">@@yy@@</td>
            <td>Current year, short form.<br/>e.g. 14</td>
        </tr>
        <tr>
            <td style="text-align: right; font-weight: bold;">@@yyyy@@</td>
            <td>Current year, long form.<br/>e.g. 2014</td>
        </tr>
        <tr>
            <td style="text-align: right; font-weight: bold;">@@day@@</td>
            <td>Day in spoken form.<br/>e.g. Wednesday</td>
        </tr>
        <tr>
            <td style="text-align: right; font-weight: bold;">@@month@@</td>
            <td>Month in spoken form.<br/>e.g. June</td>
        </tr>
        <tr>
            <td style="text-align: right; font-weight: bold;">@@hrs@@</td>
            <td>Current hour with leading zero in 24hrs.<br/>e.g. 16</td>
        </tr>
        <tr>
            <td style="text-align: right; font-weight: bold;">@@min@@</td>
            <td>Current minute with leading zero .<br/>e.g. 37</td>
        </tr>
        <tr>
            <td style="text-align: right; font-weight: bold;">@@date@@</td>
            <td>Current date in format (yyyy-mm-dd)<br/>e.g. 2014-09-02</td>
        </tr>
        <tr>
            <td style="text-align: right; font-weight: bold;">@@time@@</td>
            <td>Current time in 24hr format.<br/>e.g. 14:37</td>
        </tr>
    </tbody>
</table>

<p>Each of these system tags will resolve on send of the message to the system information.  The system tags will only work when sending messages to any recipient.</p>

<p>For more information about sending messages, please consult the documentation under Messaging.</p>
<h2 id='sms-messages'>SMS Messages</h2><pre class="highlight xml">HTTP 1.1 POST https://api.whispir.com/messages?apikey=<span class="nt">&lt;yourkey&gt;</span>
Authorization: Basic am9obi5zbWl0aDpteXBhc3N3b3Jk
Content-Type: application/vnd.whispir.message-v1+xml

<span class="cp">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;</span>
<span class="nt">&lt;ns2:message</span> <span class="na">xmlns:ns2=</span><span class="s">"http://schemas.api.whispir.com"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;to&gt;</span>61400000000<span class="nt">&lt;/to&gt;</span>
    <span class="nt">&lt;subject&gt;</span>Test SMS Message<span class="nt">&lt;/subject&gt;</span>    
    <span class="nt">&lt;body&gt;</span>This is the body of my test SMS message<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/ns2:message&gt;</span> 
</pre>
<pre class="highlight go"><span class="n">HTTP</span><span class="x"> </span><span class="m">1.1</span><span class="x"> </span><span class="n">POST</span><span class="x"> </span><span class="n">http</span><span class="o">:</span><span class="c">//api.whispir.com/messages?apikey=&lt;yourkey&gt;</span><span class="x">
</span><span class="n">Authorization</span><span class="o">:</span><span class="x"> </span><span class="n">Basic</span><span class="x"> </span><span class="n">am9obi5zbWl0aDpteXBhc3N3b3Jk</span><span class="x">
</span><span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="o">:</span><span class="x"> </span><span class="n">application</span><span class="o">/</span><span class="n">vnd</span><span class="o">.</span><span class="n">whispir</span><span class="o">.</span><span class="n">message</span><span class="o">-</span><span class="n">v1</span><span class="o">+</span><span class="n">json</span><span class="x">
</span><span class="n">Accept</span><span class="o">:</span><span class="x"> </span><span class="n">application</span><span class="o">/</span><span class="n">vnd</span><span class="o">.</span><span class="n">whispir</span><span class="o">.</span><span class="n">message</span><span class="o">-</span><span class="n">v1</span><span class="o">+</span><span class="n">json</span><span class="x">

</span><span class="p">{</span><span class="x">
   </span><span class="s">"to"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"61400000000"</span><span class="p">,</span><span class="x">
   </span><span class="s">"subject"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"Test SMS Message"</span><span class="p">,</span><span class="x">
   </span><span class="s">"body"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"This is the body of my test SMS message"</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></pre>

<p>Sending SMS from Whispir is as easy as providing the recipient information and the content of the message.</p>

<p>Only <strong>3 fields</strong> are required:</p>

<ol>
<li>To - the mobile phone number of the recipient</li>
<li>Subject - the first line or identifier of the SMS</li>
<li>Body - the remainder of the SMS content</li>
</ol>

<p>The &lsquo;to&rsquo; field can be provided in the following formats:
<table>
    <thead>
        <tr>
            <th style="width: 50%" colspan="2">&lsquo;To&rsquo; field options</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td style="text-align: right; font-weight: bold;">Ad-hoc Recipients</td>
            <td><strong>String</strong><br/>
                <ul>
                    <li>Mobile Phone: 61423456789</li>
                    <li>Email Address: john.smith@test.com.au</li>
                    <li>Landline: 61386000000</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td style="text-align: right; font-weight: bold;">Defined Whispir Recipients</td>
            <td><strong>String</strong><br/>
                <ul>
                    <li><strong>Contact MRI:</strong><br/>John_Smith.782749@Contact.whispir.com</li>
                    <li><strong>User MRI:</strong><br/>John_Smith@User.whispir.com</li>
                    <li><strong>Distribution List MRI:</strong><br/>Incidents.373947@List.whispir.com</li>
                </ul>
            </td>
        </tr>
    </tbody>
</table></p>
<h3 id='notes'>Notes:</h3>
<ul>
<li>Each SMS message can contain up to <strong>1600</strong> characters. </li>
<li>The Subject field is Mandatory.</li>
<li>The Body field is Mandatory.</li>
<li>MRI (Message Resource Identifier) is the unique Whispir address for the Contact, User or Distribution List.</li>
</ul>
<h2 id='email-messages'>Email Messages</h2>
<blockquote>
<p>Demonstration of a plain text Email</p>
</blockquote>
<pre class="highlight xml">HTTP 1.1 POST https://api.whispir.com/messages?apikey=<span class="nt">&lt;yourkey&gt;</span>
Authorization: Basic am9obi5zbWl0aDpteXBhc3N3b3Jk
Content-Type: application/vnd.whispir.message-v1+xml

<span class="cp">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;</span>
<span class="nt">&lt;ns2:message</span> <span class="na">xmlns:ns2=</span><span class="s">"http://schemas.api.whispir.com"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;to&gt;</span>john.smith@test.com<span class="nt">&lt;/to&gt;</span>
    <span class="nt">&lt;subject&gt;</span>Test Email Message<span class="nt">&lt;/subject&gt;</span>    
    <span class="nt">&lt;email&gt;</span>
        <span class="nt">&lt;body&gt;</span>This is the body of my test Email message<span class="nt">&lt;/body&gt;</span>
        <span class="nt">&lt;footer&gt;</span>This is footer of my test Email<span class="nt">&lt;/footer&gt;</span>
        <span class="nt">&lt;type&gt;</span>text/plain<span class="nt">&lt;/type&gt;</span>
    <span class="nt">&lt;/email&gt;</span>
<span class="nt">&lt;/ns2:message&gt;</span> 
</pre>
<pre class="highlight go"><span class="n">HTTP</span><span class="x"> </span><span class="m">1.1</span><span class="x"> </span><span class="n">POST</span><span class="x"> </span><span class="n">http</span><span class="o">:</span><span class="c">//api.whispir.com/messages?apikey=&lt;yourkey&gt;</span><span class="x">
</span><span class="n">Authorization</span><span class="o">:</span><span class="x"> </span><span class="n">Basic</span><span class="x"> </span><span class="n">am9obi5zbWl0aDpteXBhc3N3b3Jk</span><span class="x">
</span><span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="o">:</span><span class="x"> </span><span class="n">application</span><span class="o">/</span><span class="n">vnd</span><span class="o">.</span><span class="n">whispir</span><span class="o">.</span><span class="n">message</span><span class="o">-</span><span class="n">v1</span><span class="o">+</span><span class="n">json</span><span class="x">
</span><span class="n">Accept</span><span class="o">:</span><span class="x"> </span><span class="n">application</span><span class="o">/</span><span class="n">vnd</span><span class="o">.</span><span class="n">whispir</span><span class="o">.</span><span class="n">message</span><span class="o">-</span><span class="n">v1</span><span class="o">+</span><span class="n">json</span><span class="x">

</span><span class="p">{</span><span class="x">
    </span><span class="s">"to"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"john.smith@test.com"</span><span class="p">,</span><span class="x">
    </span><span class="s">"subject"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"Test Email Message"</span><span class="p">,</span><span class="x">
    </span><span class="s">"email"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="s">"body"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"Email Body goes here."</span><span class="p">,</span><span class="x">
        </span><span class="s">"footer"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"Email signature goes here."</span><span class="p">,</span><span class="x">
        </span><span class="s">"type"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"text/plain"</span><span class="x">
    </span><span class="p">}</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></pre>

<blockquote>
<p>Demonstration of a Rich (HTML) Email</p>
</blockquote>
<pre class="highlight xml">HTTP 1.1 POST https://api.whispir.com/messages?apikey=<span class="nt">&lt;yourkey&gt;</span>
Authorization: Basic am9obi5zbWl0aDpteXBhc3N3b3Jk
Content-Type: application/vnd.whispir.message-v1+xml

<span class="cp">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;</span>
<span class="nt">&lt;ns2:message</span> <span class="na">xmlns:ns2=</span><span class="s">"http://schemas.api.whispir.com"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;to&gt;</span>john.smith@test.com<span class="nt">&lt;/to&gt;</span>
    <span class="nt">&lt;subject&gt;</span>Test Email Message<span class="nt">&lt;/subject&gt;</span>    
    <span class="nt">&lt;email&gt;</span>
        <span class="nt">&lt;body&gt;</span>
            <span class="cp">&lt;![CDATA[
                &lt;div id="content"&gt;</span>
                    <span class="nt">&lt;p&gt;</span>This is my content<span class="nt">&lt;/p&gt;</span>
                <span class="nt">&lt;/div&gt;</span>
            ]]&gt;
        <span class="nt">&lt;/body&gt;</span>
        <span class="nt">&lt;type&gt;</span>text/html<span class="nt">&lt;/type&gt;</span>
    <span class="nt">&lt;/email&gt;</span>
<span class="nt">&lt;/ns2:message&gt;</span> 
</pre>
<pre class="highlight go"><span class="n">HTTP</span><span class="x"> </span><span class="m">1.1</span><span class="x"> </span><span class="n">POST</span><span class="x"> </span><span class="n">http</span><span class="o">:</span><span class="c">//api.whispir.com/messages?apikey=&lt;yourkey&gt;</span><span class="x">
</span><span class="n">Authorization</span><span class="o">:</span><span class="x"> </span><span class="n">Basic</span><span class="x"> </span><span class="n">am9obi5zbWl0aDpteXBhc3N3b3Jk</span><span class="x">
</span><span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="o">:</span><span class="x"> </span><span class="n">application</span><span class="o">/</span><span class="n">vnd</span><span class="o">.</span><span class="n">whispir</span><span class="o">.</span><span class="n">message</span><span class="o">-</span><span class="n">v1</span><span class="o">+</span><span class="n">json</span><span class="x">
</span><span class="n">Accept</span><span class="o">:</span><span class="x"> </span><span class="n">application</span><span class="o">/</span><span class="n">vnd</span><span class="o">.</span><span class="n">whispir</span><span class="o">.</span><span class="n">message</span><span class="o">-</span><span class="n">v1</span><span class="o">+</span><span class="n">json</span><span class="x">

</span><span class="p">{</span><span class="x">
    </span><span class="s">"to"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"john.smith@test.com"</span><span class="p">,</span><span class="x">
    </span><span class="s">"subject"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"Test Email Message"</span><span class="p">,</span><span class="x">
    </span><span class="s">"email"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="s">"body"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"&lt;div id='content'&gt;&lt;p&gt;This is my content&lt;/p&gt;&lt;/div&gt;"</span><span class="p">,</span><span class="x">
        </span><span class="s">"type"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"text/plain"</span><span class="x">
    </span><span class="p">}</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></pre>

<p>Whispir can easily be used as an API email gateway to deliver thousands of rich content emails for your campaigns.</p>

<p><strong>Mandatory fields</strong></p>

<p>Only 4 fields are required in order to send an email message.</p>

<ol>
<li>To - the recipient of the email message.</li>
<li>Subject - the subject line of the email message.</li>
<li>Body - the content of the email (either HTML or Plain Text content).</li>
<li>Type - either &lsquo;text/plain&rsquo; or &lsquo;text/html&rsquo; to describe the content of the message.</li>
</ol>
<h3 id='whispir39s-support-of-rich-html-emails'>Whispir&rsquo;s support of Rich (HTML) Emails</h3>
<blockquote>
<p>Demonstration of a Rich (HTML) Email with an attachment</p>
</blockquote>
<pre class="highlight xml">HTTP 1.1 POST https://api.whispir.com/messages?apikey=<span class="nt">&lt;yourkey&gt;</span>
Authorization: Basic am9obi5zbWl0aDpteXBhc3N3b3Jk
Content-Type: application/vnd.whispir.message-v1+xml

<span class="cp">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;</span>
<span class="nt">&lt;ns2:message</span> <span class="na">xmlns:ns2=</span><span class="s">"http://schemas.api.whispir.com"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;to&gt;</span>john.smith@test.com<span class="nt">&lt;/to&gt;</span>
    <span class="nt">&lt;subject&gt;</span>Test e-mail message with attachment<span class="nt">&lt;/subject&gt;</span>    
    <span class="nt">&lt;email&gt;</span>
        <span class="nt">&lt;body&gt;</span>Test Message Content<span class="nt">&lt;/body&gt;</span>
        <span class="nt">&lt;type&gt;</span>text/plain<span class="nt">&lt;/type&gt;</span>
    <span class="nt">&lt;resources&gt;</span>
            <span class="nt">&lt;attachment&gt;</span>
                <span class="nt">&lt;attachmentName&gt;</span>TestIcon.png<span class="nt">&lt;/attachmentName&gt;</span>
                <span class="nt">&lt;attachmentDesc&gt;</span>TestIcon.png<span class="nt">&lt;/attachmentDesc&gt;</span>
                <span class="nt">&lt;derefUri&gt;</span>iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAIAAADUsmlHAAAAAXNSR0IArs4c6QAAAARnQU1BAACx
jwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAMvSURBVDhPTVT5S1RhFD3fezOOOePTXHKriWgj
sogWC1TSMuuHIFqoX0KsIIgSWwiq/6FFU8MKK6KyXYSKpkUKR4QMSSpCLQpyxHHUZpztzdu63xub
5vKWj/fu+c6599z3mMfjSU9P13UdZoiCaLfZYQWiUGKq1WrBLEBDOBpWNTWeQyEIwvT0NAsEAgRO
PKXFxceNbQOtv4ShkKCkaZZ5kYU1Sw6dqT0NMTkLBIbf7zf+xaOuJzgG4RmyPyP/Kwq/oWAYeT+R
6gYOofnmlUQmLQjI6JQkifasu368KdCQWwFEwBiYQOIgiDBETDFIORh/iZ0De55cehgXQJIphce9
d/ebJhuyV0P3QY9Cj/HDUKhseIPomP/CW2QYB42nSx+db76YUM9IusPhYHVM2g5Bpo5xNuIkZibC
F8On0oGVjhWabmR8EBx5GDuHaItsy0zhzA6bo/H5ZSyDMQ1d4YQa0Sqc1hdAe3E7IYkqp9tiUcHG
kXIQZ8+fm+k5uXK3/46YAV3mMMLEt/BHUJ1Vua9oH+WV9ayLyLpVhRYFkT8d4mUzRuI0DAcHmQng
SLrGoBJ/GC/L31JSy/cm91ifXTcboYDJGLX+1kI6WS3AQFSRCUDvwhGEwubiD1yVLkLKWuxoT50k
zGwab6Ru6HIsahpiwTybkwTLU9iUU1Ezf394CmuyV20p2kLg8mcbRHLLxGimLlWFFMpMc6TRFlx2
9aJqePBgx4M3u7tubb1dMXfjw6rHhOwb+/jhV3+qNtMFKspQEZnA+oxSPr9UdjgUllV59pHZhSUF
I/We5AnMv5o7bvhsFu5f3DlmR7ATr/a+rtq2mVulqEqmlFlbUuv5MbqudW0C7PrhGpvwidRhIoyX
qiHoRam/tGrT5n9Wmfcb9TfmBOf0DXy80H0h/uKU6yQRcqlmk+mji0RhbbN2XOpAygzF/9nmfp4o
c4+4y6vLqRnuUTdsfNqYFRop/4JFw4t723qz52YlZpvPd/K30vm+03nAie1ADXAYOADsgHOXs/la
ix7RkzMJyJJ/BjQ09lQ7me8f9/cP9nsnvemzpOIFy3PzclkK0wyNgvDEHP8Z/AXQ58rAz69IBAAA
AABJRU5ErkJggg==<span class="nt">&lt;/derefUri&gt;</span>
            <span class="nt">&lt;/attachment&gt;</span>
        <span class="nt">&lt;/resources&gt;</span>
    <span class="nt">&lt;/email&gt;</span>
<span class="nt">&lt;/ns2:message&gt;</span>
</pre>
<pre class="highlight go"><span class="n">HTTP</span><span class="x"> </span><span class="m">1.1</span><span class="x"> </span><span class="n">POST</span><span class="x"> </span><span class="n">http</span><span class="o">:</span><span class="c">//api.whispir.com/messages?apikey=&lt;yourkey&gt;</span><span class="x">
</span><span class="n">Authorization</span><span class="o">:</span><span class="x"> </span><span class="n">Basic</span><span class="x"> </span><span class="n">am9obi5zbWl0aDpteXBhc3N3b3Jk</span><span class="x">
</span><span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="o">:</span><span class="x"> </span><span class="n">application</span><span class="o">/</span><span class="n">vnd</span><span class="o">.</span><span class="n">whispir</span><span class="o">.</span><span class="n">message</span><span class="o">-</span><span class="n">v1</span><span class="o">+</span><span class="n">json</span><span class="x">
</span><span class="n">Accept</span><span class="o">:</span><span class="x"> </span><span class="n">application</span><span class="o">/</span><span class="n">vnd</span><span class="o">.</span><span class="n">whispir</span><span class="o">.</span><span class="n">message</span><span class="o">-</span><span class="n">v1</span><span class="o">+</span><span class="n">json</span><span class="x"> 

</span><span class="p">{</span><span class="x">
    </span><span class="s">"to"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"jsmith@test.com"</span><span class="p">,</span><span class="x">
    </span><span class="s">"subject"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"Test e-mail message with attachment"</span><span class="p">,</span><span class="x">
    </span><span class="s">"email"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="s">"body"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"This is my content"</span><span class="p">,</span><span class="x">
        </span><span class="s">"type"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"text/plain"</span><span class="p">,</span><span class="x">
        </span><span class="s">"resources"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="p">{</span><span class="x">
            </span><span class="s">"attachment"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="p">[{</span><span class="x">
                </span><span class="s">"attachmentName"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"TestIcon.png"</span><span class="p">,</span><span class="x">
                </span><span class="s">"attachmentDesc"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"TestIcon.png"</span><span class="p">,</span><span class="x">
                </span><span class="s">"derefUri"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAIAAADUsmlHAAAAAXNSR0IArs4c6QAAAARnQU1BAACx
jwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAMvSURBVDhPTVT5S1RhFD3fezOOOePTXHKriWgj
sogWC1TSMuuHIFqoX0KsIIgSWwiq/6FFU8MKK6KyXYSKpkUKR4QMSSpCLQpyxHHUZpztzdu63xub
5vKWj/fu+c6599z3mMfjSU9P13UdZoiCaLfZYQWiUGKq1WrBLEBDOBpWNTWeQyEIwvT0NAsEAgRO
PKXFxceNbQOtv4ShkKCkaZZ5kYU1Sw6dqT0NMTkLBIbf7zf+xaOuJzgG4RmyPyP/Kwq/oWAYeT+R
6gYOofnmlUQmLQjI6JQkifasu368KdCQWwFEwBiYQOIgiDBETDFIORh/iZ0De55cehgXQJIphce9
d/ebJhuyV0P3QY9Cj/HDUKhseIPomP/CW2QYB42nSx+db76YUM9IusPhYHVM2g5Bpo5xNuIkZibC
F8On0oGVjhWabmR8EBx5GDuHaItsy0zhzA6bo/H5ZSyDMQ1d4YQa0Sqc1hdAe3E7IYkqp9tiUcHG
kXIQZ8+fm+k5uXK3/46YAV3mMMLEt/BHUJ1Vua9oH+WV9ayLyLpVhRYFkT8d4mUzRuI0DAcHmQng
SLrGoBJ/GC/L31JSy/cm91ifXTcboYDJGLX+1kI6WS3AQFSRCUDvwhGEwubiD1yVLkLKWuxoT50k
zGwab6Ru6HIsahpiwTybkwTLU9iUU1Ezf394CmuyV20p2kLg8mcbRHLLxGimLlWFFMpMc6TRFlx2
9aJqePBgx4M3u7tubb1dMXfjw6rHhOwb+/jhV3+qNtMFKspQEZnA+oxSPr9UdjgUllV59pHZhSUF
I/We5AnMv5o7bvhsFu5f3DlmR7ATr/a+rtq2mVulqEqmlFlbUuv5MbqudW0C7PrhGpvwidRhIoyX
qiHoRam/tGrT5n9Wmfcb9TfmBOf0DXy80H0h/uKU6yQRcqlmk+mji0RhbbN2XOpAygzF/9nmfp4o
c4+4y6vLqRnuUTdsfNqYFRop/4JFw4t723qz52YlZpvPd/K30vm+03nAie1ADXAYOADsgHOXs/la
ix7RkzMJyJJ/BjQ09lQ7me8f9/cP9nsnvemzpOIFy3PzclkK0wyNgvDEHP8Z/AXQ58rAz69IBAAA
AABJRU5ErkJggg=="</span><span class="x">
            </span><span class="p">}]</span><span class="x">
        </span><span class="p">}</span><span class="x">
    </span><span class="p">}</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></pre>

<ul>
<li>HTML, HEAD and BODY HTML elements are not supported.  HTML content assumes that it is starting from within the BODY tag.</li>
<li>HTML form and input elements are not supported in most email clients.  These can be included in the HTML content but should be thoroughly tested prior to use.</li>
<li>STYLE elements are supported.  It is recommended that a single STYLE element at the top of the HTML that defines the styles for the entire email.  However, inline styles are also supported.</li>
<li>Javascript is not supported and should not be used in e-mail messages.</li>
<li>Images must be referenced through absolute web urls, any other mechanism will not work on most email clients.
<br/><br/><strong>Note:</strong> Whispir does not host images for clients, you must use another hosting service and reference the URL in your Whispir request payload.</li>
</ul>
<h3 id='including-attachments-in-e-mail-messages'>Including attachments in e-mail messages</h3>
<p>The Whispir API provides users with the ability to compose e-mail messages that also contain message attachments.</p>

<p>Attachments can be of any type (e.g. PDF, Images, Documents), and can be up to 10MB in size (maximum for all attachments).</p>

<p>Attachments must be provided in the payload of the message.  URLs can be referenced in the Email, but will not be added as message attachments.</p>
<h3 id='notes'>Notes:</h3>
<ul>
<li>attachmentName - The name of the file being attached (mandatory)</li>
<li>attachmentDesc - An optional description of the file being attached</li>
<li>derefUri - The base64 representation of the file being uploaded</li>
</ul>

<p><aside class="notice">
The attachment element in JSON is also an array, so be sure to add the square bracket in there!
</aside></p>
<h2 id='voice-messages'>Voice Messages</h2>
<blockquote>
<p>Demonstration of sending a Text To Speech Voice call</p>
</blockquote>
<pre class="highlight xml">HTTP 1.1 POST https://api.whispir.com/messages?apikey=<span class="nt">&lt;yourkey&gt;</span>
Authorization: Basic am9obi5zbWl0aDpteXBhc3N3b3Jk
Content-Type: application/vnd.whispir.message-v1+xml

<span class="cp">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;</span>
<span class="nt">&lt;ns2:message</span> <span class="na">xmlns:ns2=</span><span class="s">"http://schemas.api.whispir.com"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;to&gt;</span>61400000000<span class="nt">&lt;/to&gt;</span>
    <span class="nt">&lt;subject&gt;</span>Test Voice Call<span class="nt">&lt;/subject&gt;</span>    
    <span class="nt">&lt;voice&gt;</span>
        <span class="nt">&lt;header&gt;</span>This is the introduction of the voice call<span class="nt">&lt;/header&gt;</span>        
        <span class="nt">&lt;body&gt;</span>This is body of the message<span class="nt">&lt;/body&gt;</span>
        <span class="nt">&lt;footer&gt;</span>This is the footer of the message<span class="nt">&lt;/footer&gt;</span>
        <span class="nt">&lt;type&gt;</span>ConfCall:,ConfAccountNo:,ConfPinNo:,ConfModPinNo:,Pin:<span class="nt">&lt;/type&gt;</span>
    <span class="nt">&lt;/voice&gt;</span>
<span class="nt">&lt;/ns2:message&gt;</span> 
</pre>
<pre class="highlight go"><span class="n">HTTP</span><span class="x"> </span><span class="m">1.1</span><span class="x"> </span><span class="n">POST</span><span class="x"> </span><span class="n">https</span><span class="o">:</span><span class="c">//api.whispir.com/messages?apikey=&lt;yourkey&gt;</span><span class="x">
</span><span class="n">Authorization</span><span class="o">:</span><span class="x"> </span><span class="n">Basic</span><span class="x"> </span><span class="n">am9obi5zbWl0aDpteXBhc3N3b3Jk</span><span class="x">
</span><span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="o">:</span><span class="x"> </span><span class="n">application</span><span class="o">/</span><span class="n">vnd</span><span class="o">.</span><span class="n">whispir</span><span class="o">.</span><span class="n">message</span><span class="o">-</span><span class="n">v1</span><span class="o">+</span><span class="n">json</span><span class="x">

</span><span class="p">{</span><span class="x">
    </span><span class="s">"to"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"61400000000"</span><span class="p">,</span><span class="x">
    </span><span class="s">"subject"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"Test Voice Call"</span><span class="p">,</span><span class="x">
    </span><span class="s">"voice"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="s">"header"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"This is the introduction of the voice call"</span><span class="p">,</span><span class="x">
        </span><span class="s">"body"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"This is body of the message"</span><span class="p">,</span><span class="x">
        </span><span class="s">"footer"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"This is the footer of the message"</span><span class="p">,</span><span class="x">
        </span><span class="s">"type"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"ConfCall:,ConfAccountNo:,ConfPinNo:,ConfModPinNo:,Pin:"</span><span class="x">
    </span><span class="p">}</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></pre>

<blockquote>
<p>Demonstration of sending a Text To Speech Voice call with an attached teleconference</p>
</blockquote>
<pre class="highlight xml">HTTP 1.1 POST https://api.whispir.com/messages?apikey=<span class="nt">&lt;yourkey&gt;</span>
Authorization: Basic am9obi5zbWl0aDpteXBhc3N3b3Jk
Content-Type: application/vnd.whispir.message-v1+xml

<span class="cp">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;</span>
<span class="nt">&lt;ns2:message</span> <span class="na">xmlns:ns2=</span><span class="s">"http://schemas.api.whispir.com"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;to&gt;</span>61400000000<span class="nt">&lt;/to&gt;</span>
    <span class="nt">&lt;subject&gt;</span>Test Voice Call<span class="nt">&lt;/subject&gt;</span>    
    <span class="nt">&lt;voice&gt;</span>
        <span class="nt">&lt;header&gt;</span>This is the introduction of the voice call<span class="nt">&lt;/header&gt;</span>        
        <span class="nt">&lt;body&gt;</span>This is body of the message<span class="nt">&lt;/body&gt;</span>
        <span class="nt">&lt;footer&gt;</span>This is the footer of the message<span class="nt">&lt;/footer&gt;</span>
        <span class="nt">&lt;type&gt;</span>
            ConfCall:1800500536,
            ConfAccountNo:12345678,
            ConfPinNo:1234,
            ConfModPinNo:1234,
            Pin:
        <span class="nt">&lt;/type&gt;</span>
    <span class="nt">&lt;/voice&gt;</span>
<span class="nt">&lt;/ns2:message&gt;</span> 
</pre>
<pre class="highlight go"><span class="n">HTTP</span><span class="x"> </span><span class="m">1.1</span><span class="x"> </span><span class="n">POST</span><span class="x"> </span><span class="n">https</span><span class="o">:</span><span class="c">//api.whispir.com/messages?apikey=&lt;yourkey&gt;</span><span class="x">
</span><span class="n">Authorization</span><span class="o">:</span><span class="x"> </span><span class="n">Basic</span><span class="x"> </span><span class="n">am9obi5zbWl0aDpteXBhc3N3b3Jk</span><span class="x">
</span><span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="o">:</span><span class="x"> </span><span class="n">application</span><span class="o">/</span><span class="n">vnd</span><span class="o">.</span><span class="n">whispir</span><span class="o">.</span><span class="n">message</span><span class="o">-</span><span class="n">v1</span><span class="o">+</span><span class="n">json</span><span class="x">

</span><span class="p">{</span><span class="x">
    </span><span class="s">"to"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"61400000000"</span><span class="p">,</span><span class="x">
    </span><span class="s">"subject"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"Test Voice Call"</span><span class="p">,</span><span class="x">
    </span><span class="s">"voice"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="s">"header"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"This is the introduction of the voice call"</span><span class="p">,</span><span class="x">
        </span><span class="s">"body"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"This is body of the message"</span><span class="p">,</span><span class="x">
        </span><span class="s">"footer"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"This is the footer of the message"</span><span class="p">,</span><span class="x">
        </span><span class="s">"type"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"ConfCall:1800500536,
                  ConfAccountNo:12345678,
                  ConfPinNo:1234,
                  ConfModPinNo:1234,
                  Pin:"</span><span class="x">
    </span><span class="p">}</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></pre>

<p>Whispir&rsquo;s API provides users the ability to send a Voice Call to any landline or mobile phones around the world.</p>

<p>Whispir supports both <strong>Text to Speech</strong> and <strong>Pre-recorded WAV file</strong> approaches to sending Voice Calls.</p>

<p>Using Whispir&rsquo;s Voice Module, you can easily connect all recipients onto a single bridged call, simplifying your teleconferences and ensuring your message gets through.</p>
<h3 id='notes'>Notes:</h3>
<ul>
<li>The Subject field is Mandatory.</li>
<li>The Body field is Mandatory.</li>
<li>The Type field is Mandatory and at a minimum must specify the following string:
<code class="prettyprint">&lt;type&gt;ConfCall:,ConfAccountNo:,ConfPinNo:,ConfModPinNo:,Pin:&lt;/type&gt;</code></li>
<li>Pauses can be added in conference call details using a +</li>
</ul>

<p>Your account must be enabled to use the Voice capability within Whispir for this to function.  If you are unsure whether you can use Voice please contact <a href="mailto:apisupport@whispir.com">apisupport@whispir.com</a>.</p>

<table>
    <thead>
        <tr>
            <th style="width: 50%" colspan="2">Custom Variables for Voice Calls</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td style="text-align: right; font-weight: bold;">@@teleconf_number@@</td>
            <td>When Teleconferencing Services are used as part of voice calls, the Teleconference line that is used in the voice call can be accessed via this variable.<br/>e.g. 1800 123 123</td>
        </tr>
        <tr>
            <td style="text-align: right; font-weight: bold;">@@teleconf_account@@</td>
            <td>When Teleconferencing Services are used as part of voice calls, the Teleconference Account or Room number that is used in the voice call can be accessed via this variable.<br/>e.g. 098711234</td>
        </tr>
        <tr>
            <td style="text-align: right; font-weight: bold;">@@teleconf_pin@@</td>
            <td>When Teleconferencing Services are used as part of voice calls, the Teleconference Room PIN that is used in the voice call can be accessed via this variable.<br/>e.g. 8181</td>
        </tr>
        <tr>
            <td style="text-align: right; font-weight: bold;">@@teleconf_mod_pin@@</td>
            <td>When Teleconferencing Services are used as part of voice calls, the Teleconference Moderator PIN that is used in the voice call can be accessed via this variable.<br/>e.g. 8181</td>
        </tr>
    </tbody>
</table>

<p><aside class="notice">
Whispir&rsquo;s Voice Module doesn&rsquo;t include a Conference Call service.  User&rsquo;s can easily integrate existing conference call services using the fields provided.
</aside></p>
<h2 id='rich-messages'>Rich Messages</h2><h2 id='publishing-to-websites-rss-or-social-media'>Publishing to Websites, RSS or Social Media</h2>
<blockquote>
<p>Social Media Request/Response Example</p>
</blockquote>
<pre class="highlight xml">HTTP 1.1 POST https://api.whispir.com/messages?apikey=<span class="nt">&lt;yourkey&gt;</span>
Authorization: Basic am9obi5zbWl0aDpteXBhc3N3b3Jk
Content-Type: application/vnd.whispir.message-v1+xml

<span class="cp">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;</span>
<span class="nt">&lt;ns2:message</span> <span class="na">xmlns:ns2=</span><span class="s">"http://schemas.api.whispir.com"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;to&gt;</span>61400000000<span class="nt">&lt;/to&gt;</span>
    <span class="nt">&lt;subject&gt;</span>Test Web Message<span class="nt">&lt;/subject&gt;</span>    
    <span class="nt">&lt;web&gt;</span> 
        <span class="nt">&lt;body&gt;</span>This is web body of my test message<span class="nt">&lt;/body&gt;</span> 
        <span class="nt">&lt;type&gt;</span>text/plain<span class="nt">&lt;/type&gt;</span> 
    <span class="nt">&lt;/web&gt;</span> 
    <span class="nt">&lt;social&gt;</span> 
        <span class="nt">&lt;social</span> <span class="na">id=</span><span class="s">"social"</span><span class="nt">&gt;</span> 
            <span class="nt">&lt;body&gt;</span>This is the content of social message for Twitter<span class="nt">&lt;/body&gt;</span>
         <span class="nt">&lt;/social&gt;</span> 
        <span class="nt">&lt;social</span> <span class="na">id=</span><span class="s">"social_long"</span><span class="nt">&gt;</span> 
            <span class="nt">&lt;body&gt;</span>This is the content of social message for Facebook<span class="nt">&lt;/body&gt;</span>
            <span class="nt">&lt;type&gt;</span>text/plain<span class="nt">&lt;/type&gt;</span> 
        <span class="nt">&lt;/social&gt;</span> 
    <span class="nt">&lt;/social&gt;</span>
<span class="nt">&lt;/ns2:message&gt;</span>
</pre>
<pre class="highlight go"><span class="n">HTTP</span><span class="x"> </span><span class="m">1.1</span><span class="x"> </span><span class="n">POST</span><span class="x"> </span><span class="n">https</span><span class="o">:</span><span class="c">//api.whispir.com/messages?apikey=&lt;yourkey&gt;</span><span class="x">
</span><span class="n">Authorization</span><span class="o">:</span><span class="x"> </span><span class="n">Basic</span><span class="x"> </span><span class="n">am9obi5zbWl0aDpteXBhc3N3b3Jk</span><span class="x">
</span><span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="o">:</span><span class="x"> </span><span class="n">application</span><span class="o">/</span><span class="n">vnd</span><span class="o">.</span><span class="n">whispir</span><span class="o">.</span><span class="n">message</span><span class="o">-</span><span class="n">v1</span><span class="o">+</span><span class="n">json</span><span class="x">

</span><span class="p">{</span><span class="x">
    </span><span class="s">"to"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"61400000000"</span><span class="p">,</span><span class="x">
    </span><span class="s">"subject"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"Test Web Message"</span><span class="p">,</span><span class="x">
    </span><span class="s">"web"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="s">"body"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"This is the body of the web content"</span><span class="p">,</span><span class="x">
        </span><span class="s">"type"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"text/plain"</span><span class="x">
    </span><span class="p">},</span><span class="x">
    </span><span class="s">"social"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="s">"social"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="p">[{</span><span class="x">
            </span><span class="s">"id"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"social"</span><span class="p">,</span><span class="x">
            </span><span class="s">"body"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"This is the content of social message for Twitter"</span><span class="x">
        </span><span class="p">},</span><span class="x"> </span><span class="p">{</span><span class="x">
            </span><span class="s">"id"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"socialType"</span><span class="p">,</span><span class="x">
            </span><span class="s">"body"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"text/plain"</span><span class="x">
        </span><span class="p">},</span><span class="x"> </span><span class="p">{</span><span class="x">
            </span><span class="s">"id"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"social_long"</span><span class="p">,</span><span class="x">
            </span><span class="s">"body"</span><span class="x"> </span><span class="o">:</span><span class="x"> </span><span class="s">"This is the content of social message for Facebook"</span><span class="x">
        </span><span class="p">}]</span><span class="x">
    </span><span class="p">}</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></pre>

<p>The Whispir API supports publishing to Web, RSS and Social Media through existing configurations set up in the Whispir Platform.</p>

<p>If your existing Whispir setup already allows you to publish to these destinations, you can simply specify the information in the message, and it will automatically be published as per your existing setup.</p>
<h3 id='web-publishing'>Web Publishing</h3>
<p>The Web section is used to publish information to Whispir&rsquo;s Contact Portal or Whispir Community, or to a pre-defined web destination e.g. your company intranet.  </p>

<p>Whispir can automatically export this content as plain text or HTML and export it to a location for you to either iFrame into your webpage, or include via AJAX.</p>

<p>For more information on web publishing, please contact <a href="mailto:apisupport@whispir.com">apisupport@whispir.com</a>.</p>
<h3 id='social-publishing'>Social Publishing</h3>
<p>The Social section is used to publish information to Twitter or Facebook as per your Whispir implementation.  </p>

<p>Whispir can automatically publish content to your pre-configured Twitter and Facebook pages based on the information you have provided us.</p>

<p>For more information about configuring Social Publishing, please contact <a href="mailto:apisupport@whispir.com">apisupport@whispir.com</a>.</p>

          <h1 id='errors'>Errors</h1>
      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="go">json</a>
                <a href="#" data-language-name="xml">xml</a>
          </div>
      </div>
    </div>
  </body>
</html>
